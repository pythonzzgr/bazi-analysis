# **Appendix: AI/프로그램 통합 데이터 구조**

모든 단계를 통합하여 최종적으로 AI 에이전트가 이해할 수 있는 형태의 JSON 스키마 가이드입니다.

### **1\. 객체 지향 설계 원칙**

* 모든 간지(干支)는 ID, Element, Polarity, TenGod 속성을 가진 객체로 관리합니다.  
* 합/충 관계는 Graph 구조로 관리하여 연결 상태를 추적합니다.

### **2\. 최종 스키마 예시 (Full Context)**

{  
  "user\_profile": { ... },  
  "eight\_characters": {  
    "pillars": \[ ... \],  
    "hidden\_stems": \[ ... \]  
  },  
  "analysis\_result": {  
    "element\_balance": { ... },  
    "strength": { ... },  
    "ten\_gods": { ... },  
    "interactions": { ... },  
    "yong\_shin": { ... }  
  },  
  "time\_flow": {  
    "current\_daewun": { ... },  
    "yearly\_fortunes": \[ ... \]  
  }  
}

### **3\. 구현 팁**

* **동적 변환:** 합(合)에 의해 오행이 변하는 경우(예: 丙辛合水), 원본 데이터와 변환된 데이터를 별도로 유지하여 분석의 깊이를 더합니다.  
* **예외 처리:** 특수격(종격, 화기격 등)에 대한 판별 로직을 7단계 이전에 배치하여 일반적인 억부론 오류를 방지합니다.